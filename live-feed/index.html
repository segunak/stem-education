<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Feed | STEM Education</title>
    <meta name="description" content="Live workshop feed for STEM education sessions. Submit posts via code and see them appear in real-time.">
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="../root-site-assets/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="../root-site-assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../root-site-assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../root-site-assets/favicon/favicon-16x16.png">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>STEM<span>.segunakinyemi</span></h1>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Title Section -->
            <section class="title-section">
                <h2>Live Feed</h2>
                <p>Submit posts using code and watch them appear in real-time. This is your chance to prove you can write code that talks to a server!</p>
            </section>

            <!-- Code Examples Section -->
            <section class="code-section">
                <h3>How to Submit a Post</h3>
                <p class="password-note">
                    <i class="fas fa-lock"></i> 
                    The form password will be provided by your instructor during the workshop.
                </p>
                
                <div class="code-tabs">
                    <button class="tab-btn active" data-tab="python">
                        <i class="fab fa-python"></i> Python
                    </button>
                    <button class="tab-btn" data-tab="javascript">
                        <i class="fab fa-js"></i> JavaScript
                    </button>
                    <button class="tab-btn" data-tab="powershell">
                        <i class="fas fa-terminal"></i> PowerShell
                    </button>
                    <button class="tab-btn" data-tab="bash">
                        <i class="fas fa-terminal"></i> Bash
                    </button>
                    <button class="tab-btn" data-tab="curl">
                        <i class="fas fa-code"></i> cURL
                    </button>
                </div>

                <div class="code-panels">
                    <!-- Python Panel -->
                    <div class="code-panel active" id="python">
                        <pre><code><span class="comment"># Python - Using the requests library</span>
<span class="comment"># Install first: pip install requests</span>

<span class="keyword">import</span> requests

<span class="comment"># Airtable form submission URL</span>
url = <span class="string">"https://airtable.com/appC0ZE44OOVEtRsQ/pagGrhPFIxTCZQcS5/form"</span>

<span class="comment"># Your post data</span>
data = {
    <span class="string">"Name"</span>: <span class="string">"Your Name Here"</span>,
    <span class="string">"Message"</span>: <span class="string">"Hello from Python! üêç"</span>,
    <span class="string">"Tags"</span>: <span class="string">"python, workshop"</span>,
    <span class="string">"WorkshopKey"</span>: <span class="string">"ASK_YOUR_INSTRUCTOR"</span>
}

<span class="comment"># Send the POST request</span>
response = requests.post(url, data=data)

<span class="keyword">if</span> response.status_code == <span class="number">200</span>:
    <span class="function">print</span>(<span class="string">"Post submitted successfully!"</span>)
<span class="keyword">else</span>:
    <span class="function">print</span>(<span class="string">f"Error: {response.status_code}"</span>)</code></pre>
                    </div>

                    <!-- JavaScript Panel -->
                    <div class="code-panel" id="javascript">
                        <pre><code><span class="comment">// JavaScript - Using fetch API</span>
<span class="comment">// Works in Node.js 18+ or local scripts. Browser console may be blocked by CORS.</span>

<span class="keyword">const</span> url = <span class="string">"https://airtable.com/appC0ZE44OOVEtRsQ/pagGrhPFIxTCZQcS5/form"</span>;

<span class="comment">// Your post data</span>
<span class="keyword">const</span> formData = <span class="keyword">new</span> <span class="function">FormData</span>();
formData.<span class="function">append</span>(<span class="string">"Name"</span>, <span class="string">"Your Name Here"</span>);
formData.<span class="function">append</span>(<span class="string">"Message"</span>, <span class="string">"Hello from JavaScript! üöÄ"</span>);
formData.<span class="function">append</span>(<span class="string">"Tags"</span>, <span class="string">"javascript, workshop"</span>);
formData.<span class="function">append</span>(<span class="string">"WorkshopKey"</span>, <span class="string">"ASK_YOUR_INSTRUCTOR"</span>);

<span class="comment">// Send the POST request</span>
<span class="function">fetch</span>(url, {
    method: <span class="string">"POST"</span>,
    body: formData
})
.<span class="function">then</span>(response => {
    <span class="keyword">if</span> (response.ok) {
        console.<span class="function">log</span>(<span class="string">"Post submitted successfully!"</span>);
    } <span class="keyword">else</span> {
        console.<span class="function">log</span>(<span class="string">`Error: ${response.status}`</span>);
    }
})
.<span class="function">catch</span>(error => console.<span class="function">error</span>(<span class="string">"Request failed:"</span>, error));</code></pre>
                    </div>

                    <!-- PowerShell Panel -->
                    <div class="code-panel" id="powershell">
                        <pre><code><span class="comment"># PowerShell - Using Invoke-RestMethod</span>
<span class="comment"># Works in Windows PowerShell and PowerShell Core</span>

<span class="variable">$url</span> = <span class="string">"https://airtable.com/appC0ZE44OOVEtRsQ/pagGrhPFIxTCZQcS5/form"</span>

<span class="comment"># Your post data</span>
<span class="variable">$body</span> = @{
    Name        = <span class="string">"Your Name Here"</span>
    Message     = <span class="string">"Hello from PowerShell! üíª"</span>
    Tags        = <span class="string">"powershell, workshop"</span>
    WorkshopKey = <span class="string">"ASK_YOUR_INSTRUCTOR"</span>
}

<span class="comment"># Send the POST request</span>
<span class="keyword">try</span> {
    <span class="variable">$response</span> = <span class="function">Invoke-RestMethod</span> <span class="param">-Uri</span> <span class="variable">$url</span> <span class="param">-Method</span> Post <span class="param">-Body</span> <span class="variable">$body</span>
    <span class="function">Write-Host</span> <span class="string">"Post submitted successfully!"</span> <span class="param">-ForegroundColor</span> Green
}
<span class="keyword">catch</span> {
    <span class="function">Write-Host</span> <span class="string">"Error: $($_.Exception.Message)"</span> <span class="param">-ForegroundColor</span> Red
}</code></pre>
                    </div>

                    <!-- Bash Panel -->
                    <div class="code-panel" id="bash">
                        <pre><code><span class="comment"># Bash - Using curl command</span>
<span class="comment"># Works on Linux, macOS, and Windows (Git Bash/WSL)</span>

<span class="comment"># Airtable form submission URL</span>
<span class="variable">URL</span>=<span class="string">"https://airtable.com/appC0ZE44OOVEtRsQ/pagGrhPFIxTCZQcS5/form"</span>

<span class="comment"># Your post data</span>
<span class="variable">NAME</span>=<span class="string">"Your Name Here"</span>
<span class="variable">MESSAGE</span>=<span class="string">"Hello from Bash! üêß"</span>
<span class="variable">TAGS</span>=<span class="string">"bash, workshop"</span>
<span class="variable">WORKSHOP_KEY</span>=<span class="string">"ASK_YOUR_INSTRUCTOR"</span>

<span class="comment"># Send the POST request</span>
curl -X POST <span class="string">"<span class="variable">$URL</span>"</span> \
  -d <span class="string">"Name=<span class="variable">$NAME</span>"</span> \
  -d <span class="string">"Message=<span class="variable">$MESSAGE</span>"</span> \
  -d <span class="string">"Tags=<span class="variable">$TAGS</span>"</span> \
  -d <span class="string">"WorkshopKey=<span class="variable">$WORKSHOP_KEY</span>"</span>

<span class="keyword">if</span> [ <span class="variable">$?</span> -eq <span class="number">0</span> ]; <span class="keyword">then</span>
    <span class="function">echo</span> <span class="string">"Post submitted successfully!"</span>
<span class="keyword">else</span>
    <span class="function">echo</span> <span class="string">"Error submitting post"</span>
<span class="keyword">fi</span></code></pre>
                    </div>

                    <!-- cURL Panel -->
                    <div class="code-panel" id="curl">
                        <pre><code><span class="comment"># cURL - Direct command (copy and paste)</span>
<span class="comment"># Replace the placeholder values before running</span>

curl -X POST <span class="string">"https://airtable.com/appC0ZE44OOVEtRsQ/pagGrhPFIxTCZQcS5/form"</span> \
  -d <span class="string">"Name=Your Name Here"</span> \
  -d <span class="string">"Message=Hello from cURL! üì°"</span> \
  -d <span class="string">"Tags=curl, workshop"</span> \
  -d <span class="string">"WorkshopKey=ASK_YOUR_INSTRUCTOR"</span>

<span class="comment"># One-liner version:</span>
curl -X POST <span class="string">"https://airtable.com/appC0ZE44OOVEtRsQ/pagGrhPFIxTCZQcS5/form"</span> -d <span class="string">"Name=Your Name"</span> -d <span class="string">"Message=Hello!"</span> -d <span class="string">"Tags=curl"</span> -d <span class="string">"WorkshopKey=ASK_YOUR_INSTRUCTOR"</span></code></pre>
                    </div>
                </div>
                
                <p class="success-hint">
                    <i class="fas fa-check-circle"></i>
                    If it worked, you'll see your Name and Message appear in the feed within a few seconds.
                </p>
            </section>

            <!-- Optional Form Preview -->
            <section class="form-preview-section">
                <button class="accordion-toggle" id="formToggle">
                    <span class="accordion-icon"><i class="fas fa-chevron-right"></i></span>
                    <span>Show Submission Form</span>
                </button>
                <div class="accordion-content" id="formAccordion">
                    <p class="form-hint">This is what you're submitting to. You can use this form manually, but the goal is to write code that does it for you!</p>
                    <div class="form-container">
                        <iframe 
                            id="formFrame"
                            class="airtable-embed" 
                            src="https://airtable.com/embed/appC0ZE44OOVEtRsQ/pagGrhPFIxTCZQcS5/form" 
                            loading="lazy"
                        ></iframe>
                    </div>
                </div>
            </section>

            <!-- Feed Controls -->
            <section class="controls-section">
                <div class="controls-row">
                    <div class="live-toggle">
                        <button id="liveToggle" class="toggle-btn">
                            <span class="toggle-indicator"></span>
                            <span class="toggle-text">Live Mode</span>
                        </button>
                        <span id="statusText" class="status-text">Auto-refresh off</span>
                    </div>
                    <button id="refreshBtn" class="refresh-btn">
                        <i class="fas fa-sync-alt"></i> Refresh Now
                    </button>
                </div>
            </section>

            <!-- Live Feed Display -->
            <section class="feed-section">
                <div class="feed-container">
                    <iframe 
                        id="feedFrame"
                        class="airtable-embed" 
                        src="https://airtable.com/embed/appC0ZE44OOVEtRsQ/shrOSM94CUYIGensD?viewControls=on" 
                        loading="lazy"
                    ></iframe>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; <span id="current-year"></span> Segun Akinyemi. All rights reserved.</p>
        </div>
    </footer>

    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>
